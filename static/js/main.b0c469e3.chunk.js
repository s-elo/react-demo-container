(this["webpackJsonpreact-demos"]=this["webpackJsonpreact-demos"]||[]).push([[0],{168:function(e,t,n){},173:function(e,t,n){},174:function(e,t,n){},175:function(e,t,n){},176:function(e,t,n){},177:function(e,t,n){},178:function(e,t,n){},1819:function(e,t){},1820:function(e,t,n){},1821:function(e,t,n){},1822:function(e,t,n){},1823:function(e,t,n){},1824:function(e,t,n){},1825:function(e,t,n){},1826:function(e,t,n){},1827:function(e,t,n){},1829:function(e,t,n){"use strict";n.r(t);var r=n(43),a=n.n(r),c=n(23),s=n(6),o=n(7),i=n(8),u=n(9),l=n(3),d=n.n(l),j=n(21),h=n(1),b=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsx)("div",{children:"Ops~"})}}]),n}(d.a.Component),p=(n(168),function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={isFirstTime:!0},e.isMenuPath=function(t){return e.props.location.pathname===t||"/react-demos"===e.props.location.pathname},e}return Object(o.a)(n,[{key:"handleShowItem",value:function(e){this.props.itemChanged&&this.props.itemChanged(e)}},{key:"toMenu",value:function(){var e=this.props,t=e.history,n=e.menuPath;t.push(n),this.props.itemChanged&&this.props.itemChanged("")}},{key:"componentDidMount",value:function(){var e=this.props,t=e.location.pathname,n=e.history,r=e.items;if(r.some((function(e){return e.path===t||-1!==t.indexOf(e.path)}))&&this.state.isFirstTime){if(n.push(t),this.props.itemChanged&&r.some((function(e){return-1!==t.indexOf(e.path)}))){var a=r.find((function(e){return-1!==t.indexOf(e.path)}));a&&this.props.itemChanged(a.name)}this.setState({isFirstTime:!1})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.items,r=t.linkStyle,a=t.menuPath;return Object(h.jsx)("div",{className:"body",children:this.isMenuPath(a)?Object(h.jsx)("div",{className:"menu",children:n.map((function(t,n){return Object(h.jsxs)("div",{className:"menu-item",onClick:e.handleShowItem.bind(e,t.name),children:[Object(h.jsx)("div",{className:"menu-order",children:n+1}),Object(h.jsx)(c.b,{style:r,to:t.path,children:t.name})]},t.path)}))}):Object(h.jsxs)("div",{className:"demo-area",children:[Object(h.jsx)("div",{className:"demo-content",children:Object(h.jsxs)(j.d,{children:[n.map((function(e){return Object(h.jsx)(j.b,{path:e.path,component:e.component},e.path)})),Object(h.jsx)(j.b,{path:"/ops",component:b}),Object(h.jsx)(j.a,{to:"/ops"})]})}),Object(h.jsx)("div",{className:"back-to-menu",onClick:this.toMenu.bind(this),children:"Menu"})]})})}}]),n}(d.a.Component)),f=Object(j.g)(p),O=n(15);n(173);function m(e){for(var t=0,n=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];t<n.length;t++){var r=n[t],a=Object(O.a)(r,3),c=a[0],s=a[1],o=a[2];if(e[c]&&e[c]===e[s]&&e[c]===e[o])return e[c]}return null}function v(e){return Object(h.jsx)("button",{className:"square",onClick:e.squareClick,children:e.value})}var x=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"renderSquare",value:function(e){return Object(h.jsx)(v,{value:this.props.square[e],squareClick:this.props.handleClickOnBoard.bind(this,e)})}},{key:"render",value:function(){return Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"board-row",children:[this.renderSquare(0),this.renderSquare(1),this.renderSquare(2)]}),Object(h.jsxs)("div",{className:"board-row",children:[this.renderSquare(3),this.renderSquare(4),this.renderSquare(5)]}),Object(h.jsxs)("div",{className:"board-row",children:[this.renderSquare(6),this.renderSquare(7),this.renderSquare(8)]})]})}}]),n}(d.a.Component),y=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).state={history:[{squares:new Array(9).fill(null)}],xIsNext:!0,stepNumber:0},r}return Object(o.a)(n,[{key:"handleClick",value:function(e){var t=this.state.history.slice(0,this.state.stepNumber+1),n=t[t.length-1].squares.slice();m(n)||n[e]||(n[e]=this.state.xIsNext?"X":"O",this.setState({history:t.concat([{squares:n}]),xIsNext:!this.state.xIsNext,stepNumber:t.length}))}},{key:"jumpTo",value:function(e){this.setState({stepNumber:e,xIsNext:e%2===0})}},{key:"render",value:function(){var e=this,t=this.state.history,n=t[this.state.stepNumber].squares,r=t.map((function(t,n){var r=n?"Go to move #"+n:"Go to start";return Object(h.jsx)("li",{children:Object(h.jsx)("button",{onClick:e.jumpTo.bind(e,n),children:r})},n)})),a="",c=m(n);return a=c?"Winner: ".concat(c):"Next player: ".concat(this.state.xIsNext?"X":"O"),Object(h.jsx)("div",{className:"tic-tac-body",children:Object(h.jsxs)("div",{className:"game",children:[Object(h.jsx)("div",{className:"game-board",children:Object(h.jsx)(x,{square:n,handleClickOnBoard:function(t){e.handleClick(t)}})}),Object(h.jsxs)("div",{className:"game-info",children:[Object(h.jsx)("div",{children:a}),Object(h.jsx)("ol",{children:r})]})]})})}}]),n}(d.a.Component),g=n(18),k=n(24),C=(n(174),function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).handleKeyUp=function(t){var n=t.target;if("Enter"===t.key)return""===n.value.trim()?alert("what the hell is the blank task?"):void e.props.addTask(n.value)},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsx)("div",{className:"header",children:Object(h.jsx)("input",{onKeyUp:this.handleKeyUp,type:"text",placeholder:"Press Enter to Add"})})}}]),n}(l.Component)),w=(n(175),function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={mouseFlag:!1},e.handleChange=function(t){return function(n){e.props.updateStatus(t,n.target.checked)}},e.handleDelete=function(t){return function(){window.confirm("delete?")&&e.props.deleteTask(t)}},e}return Object(o.a)(n,[{key:"handleMouse",value:function(e){this.setState({mouseFlag:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,r=t.task,a=t.done,c=this.state.mouseFlag;return Object(h.jsxs)("div",{style:{background:c?"#e6e6e6":"white"},className:"item-box",onMouseEnter:function(){e.handleMouse(!0)},onMouseLeave:function(){e.handleMouse(!1)},children:[Object(h.jsx)("input",{type:"checkbox",checked:a,onChange:this.handleChange(n)}),Object(h.jsx)("span",{className:"task",children:r}),Object(h.jsx)("button",{style:{visibility:c?"visible":"hidden"},onClick:this.handleDelete(n),children:"Delete"})]})}}]),n}(l.Component)),N=(n(176),function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.updateStatus,r=e.deleteTask;return Object(h.jsx)("div",{className:"list-box",children:t.map((function(e){return Object(h.jsx)(w,Object(g.a)(Object(g.a)({},e),{},{updateStatus:n,deleteTask:r}),e.id)}))})}}]),n}(l.Component)),S=(n(177),function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).handleSelectAll=function(t){e.props.selectAll(t.target.checked)},e.handleClearAllDone=function(){e.props.clearAllDone()},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.data,t=e.reduce((function(e,t){return e+(t.done?1:0)}),0),n=e.length;return Object(h.jsxs)("div",{className:"footer-box",children:[Object(h.jsx)("input",{type:"checkbox",checked:t===n&&0!==n,onChange:this.handleSelectAll}),Object(h.jsxs)("span",{className:"data",children:[t," Done / ",n," All"]}),Object(h.jsx)("button",{onClick:this.handleClearAllDone,children:"Clear all done tasks"})]})}}]),n}(l.Component)),A=(n(178),function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={data:[{id:1,task:"sleep",done:!0},{id:2,task:"eat",done:!0},{id:3,task:"codeing",done:!1}],total:3},e.handleAddTask=function(t){var n=e.state,r=n.data,a=n.total,c={id:a+1,task:t,done:!1};e.setState({data:[c].concat(Object(k.a)(r)),total:a+1})},e.updateStatus=function(t,n){var r=e.state.data.map((function(e){return e.id===t?Object(g.a)(Object(g.a)({},e),{},{done:n}):e}));e.setState({data:r})},e.deleteTask=function(t){var n=e.state.data.filter((function(e){return e.id!==t}));e.setState({data:n})},e.selectAll=function(t){var n=e.state.data.map((function(e){return Object(g.a)(Object(g.a)({},e),{},{done:t})}));e.setState({data:n})},e.clearAllDone=function(){var t=e.state.data.filter((function(e){return!e.done}));e.setState({data:t})},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"todo-box",children:[Object(h.jsx)(C,{addTask:this.handleAddTask}),Object(h.jsx)(N,{data:this.state.data,updateStatus:this.updateStatus,deleteTask:this.deleteTask}),Object(h.jsx)(S,{data:this.state.data,selectAll:this.selectAll,clearAllDone:this.clearAllDone})]})}}]),n}(l.Component)),P=n(88),D=n.n(P),I=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).getData=function(){D.a.get("http://localhost:3000/leoProxy/testData").then((function(e){console.log(e.data)}),(function(e){console.log("error!",e)}))},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsx)("div",{children:Object(h.jsx)("button",{onClick:this.getData,children:"Get data"})})}}]),n}(l.Component),T=(n(197),function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).searchInput=d.a.createRef(),e.updateState=function(){var t=e.searchInput.current.value;e.props.updateState({isFirst:!1,isLoading:!0}),D.a.get("http://localhost:3000/leoProxy/search/users?q=".concat(t)).then((function(t){e.props.updateState({isLoading:!1,data:t.data.items})}),(function(t){e.props.updateState({isLoading:!1,err:t.message})}))},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"search-box",children:[Object(h.jsx)("div",{className:"title",children:"Search Github Users"}),Object(h.jsx)("input",{ref:this.searchInput,type:"text",placeholder:"enter the name you search"}),Object(h.jsx)("button",{onClick:this.updateState,children:"Search"})]})}}]),n}(l.Component)),R=(n(198),function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.isFirst,r=e.isLoading,a=e.err;return Object(h.jsx)("div",{className:"search-list-box",children:n?Object(h.jsx)("h2",{children:"Welcome!"}):r?Object(h.jsx)("h2",{children:"Loading..."}):a?Object(h.jsx)("h2",{style:{color:"red"},children:a}):t?t.map((function(e){return Object(h.jsxs)("div",{className:"item",children:[Object(h.jsx)("a",{href:e.html_url,children:Object(h.jsx)("img",{src:e.avatar_url,alt:"avatar"})}),Object(h.jsx)("div",{className:"desc",children:e.login})]},e.login)})):""})}}]),n}(l.Component)),L=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={data:[],isFirst:!0,isLoading:!1,err:""},e.updateState=function(t){e.setState({data:t.data,isFirst:t.isFirst,isLoading:t.isLoading,err:t.err})},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)(T,{updateState:this.updateState}),Object(h.jsx)(R,Object(g.a)({},this.state))]})}}]),n}(l.Component),M=n(20);var E=["sleeping","coding","playing"];var q=n(50),F=Object(M.createStore)(Object(M.combineReducers)({counterSum:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.data;switch(n){case"increment":return e+r;case"decrement":return e-r;default:return e}},todoList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.work;switch(n){case"ADD":return e.concat(r);case"SUB":return e.includes(r)?e.filter((function(e){return e!==r})):Object(k.a)(e);default:return Object(k.a)(e)}}}),Object(M.applyMiddleware)(q.a)),U=function(e){return{type:"increment",data:e}},B=function(e){return{type:"decrement",data:e}},z=function(e,t){return function(n){return setTimeout((function(){n(U(e))}),t),{type:"asycIncrement"}}},W=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={step:1},e.stateChange=function(t){var n=t.target.value;e.setState({step:Number(n)})},e.add=function(){var t=e.state.step;F.dispatch(U(t))},e.sub=function(){var t=e.state.step;F.dispatch(B(t))},e.addIfOdd=function(){var t=e.state.step;F.getState().counterSum%2!==0&&F.dispatch(U(t))},e.addAsync=function(){var t=e.state.step;F.dispatch(z(t,1e3))},e}return Object(o.a)(n,[{key:"render",value:function(){var e=F.getState(),t=e.counterSum,n=e.todoList;return Object(h.jsxs)("div",{className:"box",children:[Object(h.jsxs)("h2",{className:"count-show",children:["SUM: ",t]}),Object(h.jsxs)("h2",{children:["Todo Num: ",n.length]}),Object(h.jsxs)("select",{onChange:this.stateChange,children:[Object(h.jsx)("option",{value:"1",children:"1"}),Object(h.jsx)("option",{value:"2",children:"2"}),Object(h.jsx)("option",{value:"3",children:"3"})]}),"\xa0",Object(h.jsx)("button",{onClick:this.add,children:"+"}),"\xa0",Object(h.jsx)("button",{onClick:this.sub,children:"-"}),"\xa0",Object(h.jsx)("button",{onClick:this.addIfOdd,children:"+ ifodd"}),"\xa0",Object(h.jsx)("button",{onClick:this.addAsync,children:"+ async"})]})}}]),n}(l.Component),G=function(e){return{type:"ADD",work:e}},K=function(e){return{type:"SUB",work:e}},H=(n(199),function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).workInput=d.a.createRef(),e.addToList=function(){var t=e.workInput.current.value;if(""===t.trim())return alert("blank work?");F.dispatch(G(t))},e.subFromList=function(){var t=e.workInput.current.value;return""===t.trim()?alert("blank work?"):F.getState().todoList.includes(t)?void F.dispatch(K(t)):alert("no such work")},e}return Object(o.a)(n,[{key:"render",value:function(){var e=F.getState(),t=e.todoList,n=e.counterSum;return Object(h.jsxs)("div",{className:"todo-redux-box",children:[Object(h.jsxs)("h2",{children:["SUM: ",n]}),Object(h.jsx)("span",{children:"Todo List:"}),Object(h.jsx)("input",{type:"text",ref:this.workInput}),Object(h.jsx)("button",{onClick:this.addToList,children:"Add"}),Object(h.jsx)("button",{onClick:this.subFromList,children:"Sub"}),t.map((function(e,t){return Object(h.jsx)("li",{children:"".concat(t+1,": ").concat(e)},e)}))]})}}]),n}(l.Component)),J=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).unsubscribe=function(){},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribe=F.subscribe((function(){e.forceUpdate()}))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)(W,{}),Object(h.jsx)("hr",{}),Object(h.jsx)(H,{})]})}}]),n}(l.Component),Q=n(14);var X="add_person",_=[{id:1,name:"leo",age:"22"}];var V=n(157),Y=Object(M.createStore)(Object(M.combineReducers)({sum:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.data;switch(n){case"increment":return e+r;case"decrement":return e-r;default:return e}},persons:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.data;return n===X?[r].concat(Object(k.a)(e)):e}}),Object(V.composeWithDevTools)(Object(M.applyMiddleware)(q.a))),Z=function(e){return{type:"increment",data:e}},$=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={step:1},e.stateChange=function(t){var n=t.target.value;e.setState({step:1*n})},e.add=function(){var t=e.state.step;e.props.add(t)},e.sub=function(){var t=e.state.step;e.props.sub(t)},e.addIfOdd=function(){var t=e.state.step,n=e.props,r=n.count,a=n.add;r%2!==0&&a(t)},e.addAsync=function(){var t=e.state.step;e.props.asyncAdd(t,1e3)},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"box",children:[Object(h.jsxs)("h2",{className:"count-show",children:["SUM: ",this.props.count," --- person number: ",this.props.personNum]}),Object(h.jsxs)("select",{onChange:this.stateChange,children:[Object(h.jsx)("option",{select:"1",children:"1"}),Object(h.jsx)("option",{select:"2",children:"2"}),Object(h.jsx)("option",{select:"3",children:"3"})]}),"\xa0",Object(h.jsx)("button",{onClick:this.add,children:"+"}),"\xa0",Object(h.jsx)("button",{onClick:this.sub,children:"-"}),"\xa0",Object(h.jsx)("button",{onClick:this.addIfOdd,children:"+ odd"}),"\xa0",Object(h.jsx)("button",{onClick:this.addAsync,children:"+ async"})]})}}]),n}(l.Component),ee=Object(Q.c)((function(e){return{count:e.sum,personNum:e.persons.length}}),{add:Z,sub:function(e){return{type:"decrement",data:e}},asyncAdd:function(e,t){return function(n){setTimeout((function(){n(Z(e))}),t)}}})($),te=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={inputName:"",inputAge:"",id:1},e.handleAdd=function(){var t=e.state,n=t.inputName,r=t.inputAge,a=t.id,c={id:a+1,name:n,age:r};e.props.add(c),e.setState({inputName:"",inputAge:"",id:a+1})},e.handleNameInput=function(t){e.setState({inputName:t.target.value})},e.handleAgeInput=function(t){e.setState({inputAge:t.target.value})},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"person-box",children:[Object(h.jsxs)("h2",{children:["Person Cpmponent --- count: ",this.props.count]}),Object(h.jsx)("input",{onChange:this.handleNameInput,type:"text",placeholder:"name?",value:this.state.inputName}),"\xa0",Object(h.jsx)("input",{onChange:this.handleAgeInput,type:"text",placeholder:"age?",value:this.state.inputAge}),"\xa0",Object(h.jsx)("button",{onClick:this.handleAdd,children:"Add a person"}),Object(h.jsx)("ul",{children:this.props.persons.map((function(e){return Object(h.jsxs)("li",{children:[e.name,"---",e.age]},e.id)}))})]})}}]),n}(l.Component),ne=Object(Q.c)((function(e){return{persons:e.persons,count:e.sum}}),{add:function(e){return{type:X,data:e}}})(te),re=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsx)("div",{children:Object(h.jsxs)(Q.a,{store:Y,children:[Object(h.jsx)(ee,{}),Object(h.jsx)("hr",{}),Object(h.jsx)(ne,{})]})})}}]),n}(l.Component),ae=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={name:"leo",age:22},e.handleInputChanged=function(e){console.log(e.target.value)},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsx)("input",{type:"text",onChange:this.handleInputChanged})}}]),n}(l.Component),ce=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).classInputRef=d.a.createRef(),e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e;console.log(null===(e=this.classInputRef.current)||void 0===e?void 0:e.state)}},{key:"render",value:function(){return Object(h.jsxs)("div",{children:["\xa0 Class: ",Object(h.jsx)(ae,{ref:this.classInputRef})]})}}]),n}(l.Component),se=n(22),oe=n(11),ie=n.n(oe);n(202);function ue(e){var t=e.demoPath;return Object(h.jsxs)("div",{className:"header-container",children:[Object(h.jsx)("title",{children:"Mini Postland"}),Object(h.jsxs)("div",{className:"tap-box",children:[Object(h.jsx)(c.b,{className:"link-btn",to:"".concat(t,"/posts"),children:"Posts"}),Object(h.jsx)(c.b,{className:"link-btn",to:"".concat(t,"/addPost"),children:"Add Post"}),Object(h.jsx)(c.b,{className:"link-btn",to:"".concat(t,"/users"),children:"Users"}),Object(h.jsx)(c.b,{className:"link-btn",to:"".concat(t,"/notifications"),children:"Notifications"})]})]})}var le=n(5),de=n(89),je=["body"];function he(e){return be.apply(this,arguments)}function be(){return be=Object(se.a)(ie.a.mark((function e(t){var n,r,a,c,s,o,i,u=arguments;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},r=n.body,a=Object(de.a)(n,je),c={"Content-Type":"application/json"},s=Object(g.a)(Object(g.a)({method:r?"POST":"GET"},a),{},{headers:Object(g.a)(Object(g.a)({},c),a.headers)}),r&&(s.body=JSON.stringify(r)),e.prev=4,e.next=7,window.fetch(t,s);case 7:return i=e.sent,e.next=10,i.json();case 10:if(o=e.sent,!i.ok){e.next=13;break}return e.abrupt("return",{status:i.status,data:o,headers:i.headers,url:i.url});case 13:throw new Error(i.statusText);case 16:return e.prev=16,e.t0=e.catch(4),e.abrupt("return",Promise.reject(e.t0.message?e.t0.message:o));case 19:case"end":return e.stop()}}),e,null,[[4,16]])}))),be.apply(this,arguments)}he.get=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return he(e,Object(g.a)(Object(g.a)({},t),{},{method:"GET"}))},he.post=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return he(e,Object(g.a)(Object(g.a)({},n),{},{body:t}))};var pe=Object(le.d)(),fe=pe.getInitialState({status:"idle",error:null}),Oe=Object(le.c)("users/fetchUsers",Object(se.a)(ie.a.mark((function e(){var t;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he.get("/fakeApi/users");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),me=Object(le.e)({name:"users",initialState:fe,reducers:{},extraReducers:function(e){e.addCase(Oe.pending,(function(e,t){e.status="loading"})).addCase(Oe.fulfilled,(function(e,t){e.status="complete",pe.setAll(e,t.payload)})).addCase(Oe.rejected,(function(e,t){e.status="failed"}))}}),ve=pe.getSelectors((function(e){return e.users})),xe=ve.selectAll,ye=ve.selectById,ge=xe,ke=function(e){return e.users.status},Ce=me.reducer;function we(e){var t=e.userId,n=Object(Q.f)(function(e){return function(t){return ye(t,e)}}(t));return Object(h.jsxs)("span",{children:["by ",n?n.name:"Unknown author"]})}var Ne=n(118),Se=n(119);function Ae(e){var t=e.timestamp,n="";if(t){var r=Object(Ne.a)(t),a=Object(Se.a)(r);n="".concat(a," ago")}return Object(h.jsxs)("span",{title:t,children:["\xa0 ",Object(h.jsx)("i",{children:n})]})}var Pe=n(158),De=n(29),Ie=Object(Pe.a)({reducerPath:"api",baseQuery:Object(De.d)({baseUrl:"/fakeApi"}),tagTypes:["Posts"],endpoints:function(e){return{getPosts:e.query({query:function(){return"/posts"},providesTags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return["Posts"].concat(Object(k.a)(e.map((function(e){return{type:"Posts",id:e.id}}))))},keepUnusedDataFor:300}),getPost:e.query({query:function(e){return"/posts/".concat(e)},providesTags:function(e,t,n){return e?["Posts",{type:"Posts",id:e.id}]:["Posts"]}}),addNewPost:e.mutation({query:function(e){return{url:"/posts",method:"POST",body:e}},invalidatesTags:["Posts"]}),editPost:e.mutation({query:function(e){return{url:"/posts/".concat(e.id),method:"PATCH",body:e}},invalidatesTags:function(e,t,n){return[{type:"Posts",id:n.id}]}}),addReaction:e.mutation({query:function(e){var t=e.id,n=e.reactName;return{url:"/posts/".concat(t,"/reactions"),method:"POST",body:{reactName:n}}},onQueryStarted:function(e,t){return Object(se.a)(ie.a.mark((function n(){var r,a,c,s,o;return ie.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.id,a=e.reactName,c=t.dispatch,s=t.queryFulfilled,o=c(Ie.util.updateQueryData("getPosts",void 0,(function(e){var t=e.find((function(e){return e.id===r}));t&&t.reactions[a]++}))),n.prev=3,n.next=6,s;case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(3),o.undo();case 11:case"end":return n.stop()}}),n,null,[[3,8]])})))()},invalidatesTags:function(e,t,n){return["Posts",{type:"Posts",id:n.id}]}})}}}),Te=Ie.useGetPostsQuery,Re=Ie.useGetPostQuery,Le=Ie.useAddNewPostMutation,Me=Ie.useEditPostMutation,Ee=Ie.useAddReactionMutation,qe=(n(203),{thumbsUp:"\ud83d\udc4d",hooray:"\ud83c\udf89",heart:"\u2764\ufe0f",rocket:"\ud83d\ude80",eyes:"\ud83d\udc40"});function Fe(e){var t=e.post,n=Ee(),r=Object(O.a)(n,1)[0];return Object(h.jsx)("div",{className:"react-btn-container",children:Object.entries(qe).map((function(e){var n=Object(O.a)(e,2),a=n[0],c=n[1];return Object(h.jsxs)("button",{className:"btn emoji-btn",onClick:function(){return r({id:t.id,reactName:a})},children:[c," ",Object(h.jsx)("span",{style:{fontWeight:"bold"},children:t.reactions[a]})]},a)}))})}n(204);function Ue(e){var t=e.post,n="/reduxToolkit/posts/".concat(t.id);return Object(h.jsxs)("article",{className:"post-excerpt",children:[Object(h.jsx)("h2",{children:t.title}),Object(h.jsx)(we,{userId:t.user}),Object(h.jsx)(Ae,{timestamp:t.date}),Object(h.jsx)("hr",{style:{margin:"5px 0"}}),Object(h.jsx)("p",{className:"post-content",children:t.content.slice(0,100)}),Object(h.jsx)(Fe,{post:t}),Object(h.jsx)(c.b,{to:n,className:"view-btn btn",children:"View"})]})}n(205);function Be(e){var t=e.text,n=void 0===t?"":t,r=e.size,a=void 0===r?"5em":r,c=n?Object(h.jsx)("h4",{children:n}):null;return Object(h.jsxs)("div",{className:"spinner",children:[c,Object(h.jsx)("div",{className:"loader",style:{height:a,width:a}})]})}n(206);function ze(){var e=Object(Q.e)(),t=Object(Q.f)((function(e){return e.users.status}));Object(l.useEffect)((function(){"idle"===t&&e(Oe())}),[]);var n,r=Te(),a=r.data,c=void 0===a?[]:a,s=r.isLoading,o=r.isSuccess,i=r.isError,u=Object(l.useMemo)((function(){var e=c.slice();return e.sort((function(e,t){return t.date.localeCompare(e.date)})),e}),[c]);return s?n=Object(h.jsx)(Be,{text:"Loading"}):o?n=u.map((function(e){return Object(h.jsx)(Ue,{post:e},e.id)})):i&&(n=Object(h.jsx)("div",{children:"error, cannot fetch the list so far"})),Object(h.jsx)("div",{className:"post-list-container",children:n})}n(207);var We=Object(j.g)((function(e){var t=Object(Q.f)(ge),n=Object(Q.f)(ke),r=Object(Q.e)();"idle"===n&&r(Oe());var a=Object(l.useState)(""),c=Object(O.a)(a,2),s=c[0],o=c[1],i=Object(l.useState)(""),u=Object(O.a)(i,2),d=u[0],j=u[1],b=Object(l.useState)(""),p=Object(O.a)(b,2),f=p[0],m=p[1],v=Le(),x=Object(O.a)(v,2),y=x[0],g=x[1].isLoading,k=function(){var t=Object(se.a)(ie.a.mark((function t(n){return ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),""!==s.trim()){t.next=3;break}return t.abrupt("return",alert("Please enter the title"));case 3:if(""!==d.trim()){t.next=5;break}return t.abrupt("return",alert("Please give some content"));case 5:if(""!==f.trim()){t.next=7;break}return t.abrupt("return",alert("Please select the user"));case 7:return t.prev=7,t.next=10,y({title:s,content:d,user:f}).unwrap();case 10:e.history.push("/reduxToolkit/posts"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(7),console.error("Failed to save the post: ",t.t0);case 16:case"end":return t.stop()}}),t,null,[[7,13]])})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsx)("section",{className:"add-post-form-container",children:Object(h.jsxs)("form",{className:"form",children:[Object(h.jsx)("label",{children:"Post Title:"}),Object(h.jsx)("input",{type:"text",id:"postTitle",name:"postTitle",value:s,onChange:function(e){return o(e.target.value)},placeholder:"What's on your mind?"}),Object(h.jsx)("label",{children:"Author:"}),Object(h.jsxs)("select",{name:"user",id:"user",onChange:function(e){return m(e.target.value)},value:f,children:[Object(h.jsx)("option",{value:"",style:{display:"none"}}),t.map((function(e){return Object(h.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),Object(h.jsx)("label",{children:"Post Content:"}),Object(h.jsx)("textarea",{className:"scroll-bar",id:"postContent",name:"postContent",value:d,onChange:function(e){return j(e.target.value)}}),Object(h.jsxs)("div",{style:{display:"flex"},children:[Object(h.jsx)("button",{className:"btn",onClick:k,disabled:g,children:"Save"}),g?Object(h.jsx)("span",{style:{display:"inline-block"},children:Object(h.jsx)(Be,{size:"2em"})}):""]})]})})}));n(208);function Ge(e){var t=e.match.params.postId,n=Re(t).data,r=Me(),a=Object(O.a)(r,2),c=a[0],s=a[1].isLoading,o=Object(l.useState)(n?n.title:""),i=Object(O.a)(o,2),u=i[0],d=i[1],j=Object(l.useState)(n?n.content:""),b=Object(O.a)(j,2),p=b[0],f=b[1],m=function(){var e=Object(se.a)(ie.a.mark((function e(n){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""!==u.trim()){e.next=3;break}return e.abrupt("return",alert("Please enter the title"));case 3:if(""!==p.trim()){e.next=5;break}return e.abrupt("return",alert("Please give some content"));case 5:return e.next=7,c({id:t,title:u,content:p});case 7:alert("Updated!");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)("section",{className:"edit-post-form-container",children:Object(h.jsxs)("form",{className:"form",children:[Object(h.jsx)("label",{htmlFor:"",children:"Post Title:"}),Object(h.jsx)("input",{type:"text",id:"postTitle",name:"postTitle",value:u,onChange:function(e){return d(e.target.value)},placeholder:"What's on your mind?"}),Object(h.jsx)("label",{htmlFor:"",children:"Post Content:"}),Object(h.jsx)("textarea",{className:"scroll-bar",id:"postContent",name:"postContent",value:p,onChange:function(e){return f(e.target.value)}}),Object(h.jsxs)("div",{style:{display:"flex"},children:[Object(h.jsx)("button",{className:"btn",onClick:m,disabled:s,children:"Edit Post"}),s?Object(h.jsx)("span",{style:{display:"inline-block"},children:Object(h.jsx)(Be,{size:"2em"})}):""]})]})})}n(209);function Ke(e){var t,n=e.match.params.postId,r=Re(n),a=r.data,s=r.isFetching,o=r.isSuccess,i=r.isError;if(s)t=Object(h.jsx)(Be,{});else if(o){if(!a)return Object(h.jsx)("h2",{children:"Page not found..."});t=Object(h.jsxs)("article",{className:"post-detail-container",children:[Object(h.jsx)("h2",{children:a.title}),Object(h.jsx)(we,{userId:a.user}),Object(h.jsx)(Ae,{timestamp:a.date}),Object(h.jsx)("hr",{style:{margin:"5px 0"}}),Object(h.jsx)("main",{children:a.content}),Object(h.jsx)(Fe,{post:a}),Object(h.jsx)(c.b,{to:"/reduxToolkit/edit/".concat(a.id),className:"btn edit-btn",children:"Edit"})]})}else if(i)return Object(h.jsx)("div",{children:"error, cannot find this id"});return Object(h.jsx)(d.a.Fragment,{children:t})}n(210);function He(){var e=Object(Q.f)(ge),t=Object(Q.f)(ke),n=Object(Q.e)();"idle"===t&&n(Oe());var r,a=e.map((function(e){return Object(h.jsx)("li",{children:Object(h.jsx)(c.b,{to:"/reduxToolkit/users/".concat(e.id),className:"link",children:e.name})},e.id)}));return"complete"===t?r=a:"loading"!==t&&"idle"!==t||(r=Object(h.jsx)(Be,{})),Object(h.jsx)("div",{className:"user-list-container",children:Object(h.jsx)("ul",{children:r})})}function Je(e){var t,n=e.match.params.userId,r=Te(),a=r.data,c=void 0===a?[]:a,s=r.isLoading,o=r.isSuccess,i=r.isError,u=Object(l.useMemo)((function(){return console.log("call"),c.filter((function(e){return e.user===n}))}),[c,n]);if(s)t=Object(h.jsx)(Be,{});else if(o){if(0===u.length)return Object(h.jsx)("div",{children:"This user has noting here"});t=u.map((function(e){return Object(h.jsx)(Ue,{post:e},e.id)}))}else if(i)return Object(h.jsx)("div",{children:"can not fetch"});return Object(h.jsx)("div",{children:t})}var Qe=Object(le.d)({sortComparer:function(e,t){return t.date.localeCompare(e.date)}}),Xe=Qe.getInitialState({status:"idle",error:null}),_e=Object(le.c)("notifications/fetchNotifications",function(){var e=Object(se.a)(ie.a.mark((function e(t,n){var r,a,c,s,o;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,a=$e(r()),c=a[0],s=c?c.date:"",e.next=6,he.get("/fakeApi/notifications?since=".concat(s));case 6:return o=e.sent,e.abrupt("return",o.data);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Ve=Object(le.e)({name:"notifications",initialState:Xe,reducers:{markAsRead:function(e){Object.values(e.entities).forEach((function(e){e.isRead=!0}))}},extraReducers:function(e){e.addCase(_e.pending,(function(e,t){e.status="loading"})).addCase(_e.fulfilled,(function(e,t){e.status="complete",t.payload.forEach((function(e){e.isRead=!1})),Qe.upsertMany(e,t.payload)})).addCase(_e.rejected,(function(e,t){e.status="failed"}))}}),Ye=Ve.actions.markAsRead,Ze=Ve.reducer,$e=Qe.getSelectors((function(e){return e.notifications})).selectAll,et=function(e){return e.notifications.status};n(211);function tt(){var e=Object(Q.f)($e),t=Object(Q.f)(et),n=Object(Q.f)(ge),r=Object(Q.e)();Object(l.useEffect)((function(){return"idle"===t&&r(_e()),function(){r(Ye())}}),[]);var a,c=e.map((function(e){var t=Object(Ne.a)(e.date),r=Object(Se.a)(t),a=n.find((function(t){return t.id===e.user}))||{name:"Unknown User"};return Object(h.jsxs)("li",{style:{backgroundColor:e.isRead?"rgb(230, 224, 224)":"#b56ef8"},children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:a.name})," ",e.message]}),Object(h.jsx)("div",{title:e.date,children:Object(h.jsxs)("i",{children:[r," ago"]})})]},e.id)})),s=Object(h.jsx)("div",{style:{textAlign:"center",margin:"20px 0",fontWeight:"bold"},children:"It is empty now~"}),o=function(){var e=Object(se.a)(ie.a.mark((function e(){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(Ye()),r(_e());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return"complete"===t?a=0===e.length?s:c:"loading"!==t&&"idle"!==t||(a=Object(h.jsx)(Be,{})),Object(h.jsxs)("div",{className:"notification-list-container",children:[Object(h.jsx)("button",{className:"btn refresh-btn",onClick:o,children:"Refresh Notifications"}),a]})}var nt,rt=n(48),at=(n(34),Object(le.d)({sortComparer:function(e,t){return t.date.localeCompare(e.date)}})),ct=at.getInitialState({status:"idle",error:null}),st=Object(le.c)("posts/fetchPosts",Object(se.a)(ie.a.mark((function e(){var t;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he.get("/fakeApi/posts");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),ot=Object(le.c)("posts/addNewPost",function(){var e=Object(se.a)(ie.a.mark((function e(t){var n,r,a,c,s;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.title,r=t.content,a=t.user,c={id:Object(le.n)(),title:n,content:r,user:a,date:(new Date).toISOString(),reactions:{thumbsUp:0,hooray:0,heart:0,rocket:0,eyes:0}},e.next=4,he.post("/fakeApi/posts",c);case 4:return s=e.sent,e.abrupt("return",s.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),it=Object(le.e)({name:"posts",initialState:ct,reducers:{postAdded:{reducer:function(e,t){e.entities[t.payload.id]=t.payload},prepare:function(e,t,n){return{payload:{id:Object(le.n)(),title:e,content:t,user:n,date:(new Date).toISOString(),reactions:{thumbsUp:0,hooray:0,heart:0,rocket:0,eyes:0}}}}},postUpdated:{reducer:function(e,t){var n=t.payload,r=n.id,a=n.title,c=n.content,s=e.entities[r];s&&(s.title=a,s.content=c)},prepare:function(e,t,n){return{payload:{id:e,title:t,content:n}}}},reactionAdded:function(e,t){var n=t.payload,r=n.id,a=n.reactName,c=e.entities[r];c&&c.reactions[a]++}},extraReducers:function(e){e.addCase(st.pending,(function(e,t){e.status="loading"})).addCase(st.fulfilled,(function(e,t){e.status="complete",at.upsertMany(e,t.payload)})).addCase(st.rejected,(function(e,t){e.status="failed",e.error=t.error.message})),e.addCase(ot.fulfilled,at.addOne)}}),ut=it.actions,lt=(ut.postAdded,ut.postUpdated,ut.reactionAdded,at.getSelectors((function(e){return e.posts}))),dt=(lt.selectAll,lt.selectById,lt.selectIds,it.reducer),jt=Object(le.a)({reducer:Object(rt.a)({posts:dt,users:Ce,notifications:Ze},Ie.reducerPath,Ie.reducer),middleware:function(e){return e().concat(Ie.middleware)}}),ht=n(39),bt=n(83),pt=n(35),ft=n(42),Ot=n.n(ft),mt=n(108),vt=n.n(mt),xt=n(162),yt=["id"],gt=1e3,kt=vt()(),Ct=localStorage.getItem("randomTimestampSeed");function wt(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(kt()*(t-e+1))+e}Ct?nt=new Date(Ct):(Ct=(nt=new Date).toISOString(),localStorage.setItem("randomTimestampSeed",Ct)),kt=vt()(Ct),Ot.a.seed(nt.getTime());for(var Nt,St=function(e){return e[wt(0,e.length-1)]},At=Object(pt.factory)({user:{id:Object(pt.primaryKey)(le.n),firstName:String,lastName:String,name:String,username:String,posts:Object(pt.manyOf)("post")},post:{id:Object(pt.primaryKey)(le.n),title:String,date:String,content:String,reactions:Object(pt.oneOf)("reaction"),comments:Object(pt.manyOf)("comment"),user:Object(pt.oneOf)("user")},comment:{id:Object(pt.primaryKey)(String),date:String,text:String,post:Object(pt.oneOf)("post")},reaction:{id:Object(pt.primaryKey)(le.n),thumbsUp:Number,hooray:Number,heart:Number,rocket:Number,eyes:Number,post:Object(pt.oneOf)("post")}}),Pt=function(){var e=Ot.a.name.firstName(),t=Ot.a.name.lastName();return{firstName:e,lastName:t,name:"".concat(e," ").concat(t),username:Ot.a.internet.userName()}},Dt=0;Dt<3;Dt++)for(var It=At.user.create(Pt()),Tt=0;Tt<3;Tt++){var Rt=(Nt=It,{title:Ot.a.lorem.words(),date:Ot.a.date.recent(7).toISOString(),user:Nt,content:Ot.a.lorem.paragraphs(),reactions:At.reaction.create()});At.post.create(Rt)}var Lt=function(e){return Object(g.a)(Object(g.a)({},e),{},{user:e.user.id})},Mt=[ht.e.get("/fakeApi/posts",(function(e,t,n){var r=At.post.getAll().map(Lt);return t(n.delay(gt),n.json(r))})),ht.e.post("/fakeApi/posts",(function(e,t,n){var r=e.body;if("error"===r.content)return t(n.delay(gt),n.status(500),n.json("Server error saving this post!"));r.date=(new Date).toISOString();var a=At.user.findFirst({where:{id:{equals:r.user}}});r.user=a,r.reactions=At.reaction.create();var c=At.post.create(r);return t(n.delay(gt),n.json(Lt(c)))})),ht.e.get("/fakeApi/posts/:postId",(function(e,t,n){var r=At.post.findFirst({where:{id:{equals:e.params.postId}}});return t(n.delay(gt),n.json(Lt(r)))})),ht.e.patch("/fakeApi/posts/:postId",(function(e,t,n){var r=e.body,a=(r.id,Object(de.a)(r,yt)),c=At.post.update({where:{id:{equals:e.params.postId}},data:a});return t(n.delay(gt),n.json(Lt(c)))})),ht.e.get("/fakeApi/posts/:postId/comments",(function(e,t,n){var r=At.post.findFirst({where:{id:{equals:e.params.postId}}});return t(n.delay(gt),n.json({comments:r.comments}))})),ht.e.post("/fakeApi/posts/:postId/reactions",(function(e,t,n){var r=e.params.postId,a=e.body.reactName,c=At.post.findFirst({where:{id:{equals:r}}}),s=At.post.update({where:{id:{equals:r}},data:{reactions:Object(g.a)(Object(g.a)({},c.reactions),{},Object(rt.a)({},a,c.reactions[a]+=1))}});return t(n.delay(gt),n.json(Lt(s)))})),ht.e.get("/fakeApi/notifications",(function(e,t,n){var r=Bt(void 0,wt(1,5),At);return t(n.delay(gt),n.json(r))})),ht.e.get("/fakeApi/users",(function(e,t,n){return t(n.delay(gt),n.json(At.user.getAll()))}))],Et=bt.setupWorker.apply(void 0,Mt),qt=new xt.Server("ws://localhost"),Ft=function(e,t){!function(e,t){e.send(JSON.stringify(t))}(e,{type:"notifications",payload:Bt(t,wt(1,5),At)})};qt.on("connection",(function(e){e,e.on("message",(function(t){var n=JSON.parse(t);if("notifications"===n.type){var r=n.payload;Ft(e,r)}}))}));var Ut=["poked you","says hi!","is glad we're friends","sent you a gift"];function Bt(e,t,n){var r,a=new Date;e?r=Object(Ne.a)(e):(r=new Date(a.valueOf())).setMinutes(r.getMinutes()-15);var c=Object(k.a)(Array(t)).map((function(){var e=St(n.user.getAll()),t=St(Ut);return{id:Object(le.n)(),date:Ot.a.date.between(r,a).toISOString(),message:t,user:e.id}}));return c}n(1820);var zt="/reduxToolkit";function Wt(){return(Wt=Object(se.a)(ie.a.mark((function e(){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Et.start({onUnhandledRequest:"bypass"});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Gt=!1;var Kt=Object(j.g)((function(e){return Gt||(!function(){Wt.apply(this,arguments)}(),Gt=!0),Object(l.useEffect)((function(){var t=e.history;return e.location.pathname===zt&&t.push("".concat(zt,"/posts")),function(){Et.stop(),Gt=!1}}),[]),Object(h.jsx)("div",{className:"post-container",children:Object(h.jsxs)(Q.a,{store:jt,children:[Object(h.jsx)(ue,{demoPath:zt}),Object(h.jsx)("main",{className:"app-sections scroll-bar",children:Object(h.jsxs)(j.d,{children:[Object(h.jsx)(j.b,{exact:!0,path:"".concat(zt,"/posts"),component:ze},"/posts"),Object(h.jsx)(j.b,{exact:!0,path:"".concat(zt,"/posts/:postId"),component:Ke},"/postDetail"),Object(h.jsx)(j.b,{exact:!0,path:"".concat(zt,"/edit/:postId"),component:Ge},"/editPostForm"),Object(h.jsx)(j.b,{exact:!0,path:"".concat(zt,"/addPost"),component:We},"/addPost"),Object(h.jsx)(j.b,{exact:!0,path:"".concat(zt,"/users"),component:He},"/users"),Object(h.jsx)(j.b,{exact:!0,path:"".concat(zt,"/users/:userId"),component:Je},"/users"),Object(h.jsx)(j.b,{exact:!0,path:"".concat(zt,"/notifications"),component:tt},"/notifications"),Object(h.jsx)(j.a,{to:"".concat(zt,"/posts")})]})})]})})})),Ht=new Array(18).fill(new Array(13).fill({isActive:!1})),Jt=Object(le.e)({name:"pannel",initialState:{pannelWidth:294,pannelHeight:404,maxRow:17,maxCol:12,pannel:Ht,curDropState:"BLANK",curStartPos:{row:0,col:0},curDropPos:[]},reducers:{setActive:function(e,t){t.payload.forEach((function(t){var n=t.row,r=t.col;e.pannel[n][r].isActive=!0}))},setDisactive:function(e,t){t.payload.forEach((function(t){var n=t.row,r=t.col;e.pannel[n][r].isActive=!1}))},setDropBlocks:function(e,t){var n=t.payload,r=n.startPos,a=n.activePos,c=n.dropState,s=n.clearPrev;(void 0===s||s)&&e.curDropPos.forEach((function(t){var n=t.row,r=t.col;e.pannel[n][r].isActive=!1})),a.forEach((function(t){var n=t.row,r=t.col;e.pannel[n][r].isActive=!0})),e.curDropPos=a,e.curStartPos=r,c&&(e.curDropState=c)}}}),Qt=Jt.reducer,Xt=Jt.actions,_t=(Xt.setActive,Xt.setDisactive,Xt.setDropBlocks),Vt=function(e){return e.pannel},Yt=function(e){return{curDropPos:e.pannel.curDropPos,curStartPos:e.pannel.curStartPos,curDropState:e.pannel.curDropState}},Zt=function(e){return{maxRow:e.pannel.maxRow,maxCol:e.pannel.maxCol}},$t=Object(le.a)({reducer:{pannel:Qt}});n(1821);function en(){var e=Object(Q.f)(Vt),t=e.pannel,n=e.pannelHeight,r=e.pannelWidth;return Object(h.jsx)("div",{className:"game-container",style:{width:"".concat(r,"px"),height:"".concat(n,"px")},children:t.map((function(e,t){return Object(h.jsx)("p",{className:"row",children:e.map((function(e,t){var n=e.isActive;return Object(h.jsx)("b",{className:"block ".concat(n?"active-block":"")},t)}))},t)}))})}var tn=function(){var e=Object(Q.f)(Zt),t=e.maxRow,n=e.maxCol;return Object(l.useCallback)((function(e,r){var a=e.row,c=e.col,s=[];return"LU"===r&&(s=[{row:a+1,col:c+2},{row:a+2,col:c},{row:a+2,col:c+1},{row:a+2,col:c+2}]),"LD"===r&&(s=[{row:a+1,col:c},{row:a+1,col:c+1},{row:a+1,col:c+2},{row:a+2,col:c}]),"BLANK"===r&&(s=[]),s.filter((function(e){var r=e.row,a=e.col;return r>=0&&r<=t&&a>=0&&a<=n}))}),[t,n])},nn=function(){var e=Object(Q.f)(Zt).maxCol,t=tn(),n=Object(Q.e)();return Object(l.useCallback)((function(){var r=["LU","LD"],a=r[Math.round(Math.random()*(r.length-1))],c={row:-2,col:Math.floor(e/2)-1};n(_t({startPos:c,activePos:t(c,a),dropState:a,clearPrev:!1}))}),[e,t,n])},rn=function(){var e=Object(Q.f)(Vt),t=e.pannel,n=e.maxRow,r=e.maxCol,a=e.curDropPos;return Object(l.useCallback)((function(e){return"DOWN"!==e||!a.some((function(e){var r=e.row,c=e.col;return r+1>n||t[r+1][c].isActive&&!a.some((function(e){var t=e.row,n=e.col;return t===r+1&&n===c}))}))}),[t,n,r,a])};n(1822);function an(){var e=function(){var e=Object(Q.f)(Yt),t=e.curDropPos,n=e.curDropState,r=e.curStartPos,a=Object(Q.f)(Zt),c=a.maxRow,s=a.maxCol,o=nn(),i=tn(),u=rn(),d=Object(Q.e)(),j=Object(l.useRef)(null),h=Object(l.useRef)(null);return Object(l.useMemo)((function(){var e={start:function(){null==j.current&&(0===t.length&&o(),j.current=setInterval((function(){h.current&&"STOPPED"===h.current()&&o()}),500))},pause:function(){j.current&&(clearInterval(j.current),j.current=null)},DOWN:function(){if(!u("DOWN"))return"STOPPED";var e=0===t.length?{row:-2,col:Math.floor(s/2)-1}:{row:r.row+1,col:r.col};return d(_t({startPos:e,activePos:i(e,n)})),"DROPPING"}};return h.current=e.DOWN,e}),[o,i,u,d,t,n,r,c,s])}();return Object(h.jsxs)("div",{className:"control-pannel",children:[Object(h.jsx)("button",{className:"start-btn",onClick:e.start,children:"start"}),Object(h.jsx)("button",{className:"pause-btn",onClick:e.pause,children:"pause"})]})}var cn=d.a.lazy((function(){return n.e(4).then(n.bind(null,1837))})),sn=d.a.lazy((function(){return n.e(3).then(n.bind(null,1838))})),on=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:[Object(h.jsx)(c.c,{to:"/others/lazyLoad/home",children:"Home"}),"\xa0",Object(h.jsx)(c.c,{to:"/others/lazyLoad/about",children:"About"})]}),Object(h.jsx)("hr",{}),Object(h.jsx)("div",{children:Object(h.jsxs)(l.Suspense,{fallback:Object(h.jsx)("div",{children:"Loading..."}),children:[Object(h.jsx)(j.b,{path:"/others/lazyLoad/home",component:cn}),Object(h.jsx)(j.b,{path:"/others/lazyLoad/about",component:sn})]})})]})}}]),n}(l.Component);var un=d.a.createContext(null),ln=un.Provider,dn=un.Consumer,jn=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={name:"leo",age:22},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.state,t=e.name,n=e.age;return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:"This is Grand component"}),Object(h.jsxs)("div",{children:["name: ",t," --age: ",n]}),Object(h.jsx)("hr",{}),Object(h.jsx)(ln,{value:this.state,children:Object(h.jsx)(hn,{})})]})}}]),n}(l.Component),hn=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:"This is Parent component"}),Object(h.jsx)("hr",{}),Object(h.jsx)(bn,{})]})}}]),n}(l.Component),bn=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.context,t=e.name,n=e.age;return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:"This is Child component"}),Object(h.jsxs)("div",{children:["name from Grand: ",t," --age from Grand: ",n]}),Object(h.jsx)("hr",{}),Object(h.jsx)(pn,{})]})}}]),n}(l.Component);function pn(){return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:"This is NextChild component"}),Object(h.jsx)("div",{children:Object(h.jsx)(dn,{children:function(e){return"name from Grand: ".concat(e.name," --age from Grand: ").concat(e.age)}})})]})}bn.contextType=un;n(1823);var fn=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={name:"leo"},e}return Object(o.a)(n,[{key:"changeName",value:function(){this.setState({name:"pit"})}},{key:"render",value:function(){return console.log("parent--render"),Object(h.jsxs)("div",{className:"parent",children:[Object(h.jsxs)("div",{children:["Parent: ",this.state.name]}),Object(h.jsx)("button",{onClick:this.changeName.bind(this),children:"change name"}),Object(h.jsx)(On,{})]})}}]),n}(l.PureComponent),On=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return console.log("child-render"),Object(h.jsx)("div",{className:"child",children:Object(h.jsx)("div",{children:"Child..."})})}}]),n}(l.PureComponent),mn=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1},e}return Object(o.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){return this.state.hasError?Object(h.jsx)("h4",{children:"some problems"}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return console.log(e),{hasError:!0}}}]),n}(d.a.Component),vn=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={users:"leo"},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsx)("div",{children:Array.isArray(this.state.users)&&this.state.users.map((function(e){return Object(h.jsxs)("h4",{children:[e.id,"---",e.name,",",e.age]},e.id)}))})}}]),n}(d.a.Component);var xn=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={count:0},e}return Object(o.a)(n,[{key:"add",value:function(){var e=this;this.setState((function(e,t){return{count:e.count+1}}),(function(){console.log("async:",e.state.count)})),console.log("sync:",this.state.count)}},{key:"render",value:function(){return Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:["Count name: ",this.props.name]}),Object(h.jsxs)("div",{children:["count: ",this.state.count]}),Object(h.jsx)("button",{onClick:this.add.bind(this),children:"+"})]})}}]),n}(l.Component),yn=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).renderBFunc=function(e){return Object(h.jsx)(kn,{name:e})},e.renderCountFunc=function(e){return Object(h.jsx)(xn,{name:e})},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:"Parent..."}),Object(h.jsx)(gn,{render:this.renderBFunc}),Object(h.jsx)(gn,{render:this.renderCountFunc})]})}}]),n}(l.Component),gn=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={name:"leo"},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.state.name;return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:"A..."}),this.props.render(e)]})}}]),n}(l.Component),kn=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:"B..."}),this.props.name," from A"]})}}]),n}(l.Component),Cn=(n(1824),function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).modalContainer=void 0,r.modalContainer=document.createElement("div"),r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.modalRoot.current.append(this.modalContainer)}},{key:"render",value:function(){return a.a.createPortal(this.props.children,this.modalContainer)}}]),n}(l.Component));function wn(){return Object(h.jsx)("div",{children:"i am a kid"})}var Nn=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).modalRoot=d.a.createRef(),e.state={showModal:!1},e.handleShowModal=function(){var t=e.state.showModal;e.setState({showModal:!t})},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.state.showModal;return Object(h.jsxs)("div",{className:"portal-box",children:[Object(h.jsx)("div",{className:"modal-root",ref:this.modalRoot,style:e?{display:"block"}:{display:"none"}}),Object(h.jsx)("button",{onClick:this.handleShowModal,children:"".concat(e?"close":"show"," modal")}),Object(h.jsx)(Cn,{modalRoot:this.modalRoot,children:Object(h.jsx)(wn,{})})]})}}]),n}(l.Component);function Sn(e){var t=e.containerRef,n=e.widthChange,r=e.style,a=void 0===r?{}:r,c=e.idx,s=e.widths,o=Object(l.useRef)(null);return Object(h.jsx)("div",{className:"resiz-bar",ref:o,onMouseDown:function(e){e.preventDefault();var r=function(e){if(t.current&&o.current){var r=s.slice(c).reduce((function(e,t){return e+t}),0),a=1-(e.clientX-t.current.offsetLeft)/Number(getComputedStyle(t.current).width.replace("px",""))-r,i=s[c]+a,u=s[c-1]-a;n(Object(k.a)(s).map((function(e,t){return t===c?i:t===c-1?u:e})))}};document.addEventListener("mousemove",r);document.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",e)}))},style:a})}n(1825);function An(e){var t=e.children,n=Object(l.useRef)(null),r=Object(l.useState)(new Array(t.length).fill(1/t.length)),a=Object(O.a)(r,2),c=a[0],s=a[1];return Object(h.jsx)("div",{className:"resizable-box",ref:n,children:t.map((function(e,r){return Object(h.jsxs)(d.a.Fragment,{children:[Object(h.jsx)("div",{style:{width:(a=c[r],"".concat((100*a).toFixed(2),"%"))},children:e}),r!==t.length-1&&Object(h.jsx)(Sn,{containerRef:n,widthChange:function(e){return s(e)},idx:r+1,widths:c})]},r);var a}))})}var Pn=function(){return Object(h.jsx)("div",{className:"left-box",children:"box1"})},Dn=function(){return Object(h.jsx)("div",{className:"right-box",children:"box2"})},In=(n(1826),{textDecoration:"none",color:"black",width:"100%",height:"100%",display:"inline-block",padding:"10px"}),Tn=[{path:"/others/lazyLoad",name:"LazyLoad",component:on},{path:"/others/hooks",name:"Hooks",component:function(){var e=Object(l.useState)(0),t=Object(O.a)(e,2),n=t[0],r=t[1],c=Object(l.useState)("pit"),s=Object(O.a)(c,2),o=s[0],i=s[1];Object(l.useEffect)((function(){console.log("did mount")}),[]),Object(l.useEffect)((function(){var e=setInterval((function(){r(n+1)}),1e3);return console.log("effected"),function(){console.log("effected in return"),clearInterval(e)}})),Object(l.useEffect)((function(){console.log("another effect used to watch the name state")}),[o]);var u=d.a.useRef(null);return Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{type:"text",ref:u}),Object(h.jsxs)("div",{children:["count: ",n,"---",o]}),Object(h.jsx)("button",{onClick:function(){i("leo"===o?"pit":"leo"),r((function(e){return e+1}))},children:"+&changeName"}),"\xa0",Object(h.jsx)("button",{onClick:function(){a.a.unmountComponentAtNode(document.getElementById("root"))},children:"unmount"}),"\xa0",Object(h.jsx)("button",{onClick:function(){console.log(u),u.current&&alert(u.current.value)},children:"show"})]})}},{path:"/others/context",name:"Context",component:jn},{path:"/others/pureComDemo",name:"PureComDemo",component:fn},{path:"/others/errorBoundary",name:"Error Boumdary",component:function(){return Object(h.jsx)(mn,{children:Object(h.jsx)(vn,{})})}},{path:"/others/renderProp",name:"Render Prop(slot)",component:yn},{path:"/others/portalDemo",name:"portal demo",component:Nn},{path:"/others/resizeLayout",name:"resizable layout",component:function(){return Object(h.jsx)("div",{style:{width:"800px"},children:Object(h.jsxs)(An,{children:[Object(h.jsx)(Pn,{}),Object(h.jsx)(Dn,{}),Object(h.jsx)(Pn,{}),Object(h.jsx)(Pn,{})]})})}}],Rn=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsx)("div",{className:"others-body",children:Object(h.jsx)("div",{className:"others-content",children:Object(h.jsx)(f,{items:Tn,linkStyle:In,menuPath:"/others"})})})}}]),n}(d.a.Component),Ln=(n(1827),{textDecoration:"none",color:"black",width:"100%",height:"100%",display:"inline-block",padding:"10px"}),Mn=[{path:"/tictactoe",name:"tic-tac-toe",component:y},{path:"/todoList",name:"To do List",component:A},{path:"/proxy",name:"ProxyTest",component:I},{path:"/searchAxios",name:"SearchAxios",component:L},{path:"/reduxDemo",name:"ReduxDemo",component:J},{path:"/reactRedux",name:"ReactRedux",component:re},{path:"/refDemo",name:"RefDemo",component:ce},{path:"/reduxToolkit",name:"ReduxToolkit",component:Kt},{path:"/tetris",name:"Tetris",component:function(){return Object(h.jsx)(Q.a,{store:$t,children:Object(h.jsxs)("main",{className:"main-wrapper",children:[Object(h.jsx)(en,{}),Object(h.jsx)(an,{})]})})}},{path:"/others",name:"Others",component:Rn}],En=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={currentDemoName:""},e.changeDemo=function(t){e.setState({currentDemoName:t})},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"app-body",children:[Object(h.jsxs)("div",{className:"app-content",children:[Object(h.jsx)("div",{className:"demo-name",children:this.state.currentDemoName}),Object(h.jsx)(f,{items:Mn,linkStyle:Ln,menuPath:"/",itemChanged:this.changeDemo})]}),Object(h.jsx)("div",{className:"footer",children:"@SuperLi"})]})}}]),n}(d.a.Component),qn=document.getElementById("root");a.a.render(Object(h.jsx)(c.a,{children:Object(h.jsx)(En,{})}),qn)},197:function(e,t,n){},198:function(e,t,n){},199:function(e,t,n){},202:function(e,t,n){},203:function(e,t,n){},204:function(e,t,n){},205:function(e,t,n){},206:function(e,t,n){},207:function(e,t,n){},208:function(e,t,n){},209:function(e,t,n){},210:function(e,t,n){},211:function(e,t,n){}},[[1829,1,2]]]);
//# sourceMappingURL=main.b0c469e3.chunk.js.map